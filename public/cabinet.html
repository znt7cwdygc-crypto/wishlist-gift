<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–ú–æ–π –≤–∏—à–ª–∏—Å—Ç</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üéÅ</text></svg>">
    <link rel="stylesheet" href="/css/app.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
    <div class="app">
        <!-- –í–∫–ª–∞–¥–∫–∞: –ú–æ–π –≤–∏—à–ª–∏—Å—Ç -->
        <div id="tab-wishlist" class="screen active">
            <header class="app-header">
                <div class="text-lg">–ú–æ–π –≤–∏—à–ª–∏—Å—Ç</div>
            </header>
            
            <main class="app-content">
                <!-- –ì–ª–∞–≤–Ω—ã–π CTA: —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É -->
                <div class="link-section">
                    <div class="text-lg">–ü–æ–¥–µ–ª–∏—Ç–µ—Å—å —Å—Å—ã–ª–∫–æ–π</div>
                    <div class="link-preview" id="public-link">t.me/WishlistGiftBot?start=me</div>
                    <button class="btn btn-primary" onclick="copyLink()">
                        üìã –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É
                    </button>
                </div>
                
                <!-- –°–ø–∏—Å–æ–∫ –ø–æ–¥–∞—Ä–∫–æ–≤ -->
                <div class="flex justify-between items-center mb-3">
                    <div class="font-semibold">–ü–æ–¥–∞—Ä–∫–∏</div>
                    <button class="btn btn-ghost" onclick="showAddGift()" style="width: auto;">
                        + –î–æ–±–∞–≤–∏—Ç—å
                    </button>
                </div>
                
                <div id="my-gifts-list" class="gifts-list">
                    <div class="empty-state">
                        <div class="empty-icon">üéÅ</div>
                        <div class="empty-title">–ü–æ–∫–∞ –ø—É—Å—Ç–æ</div>
                        <div class="empty-text">–î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤—ã–π –ø–æ–¥–∞—Ä–æ–∫</div>
                    </div>
                </div>
            </main>
        </div>

        <!-- –í–∫–ª–∞–¥–∫–∞: –ü–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è -->
        <div id="tab-events" class="screen">
            <header class="app-header">
                <div class="text-lg">–ü–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è</div>
            </header>
            
            <main class="app-content">
                <div class="filter-tabs">
                    <button class="filter-tab active" data-filter="today">–°–µ–≥–æ–¥–Ω—è</button>
                    <button class="filter-tab" data-filter="week">–ù–µ–¥–µ–ª—è</button>
                    <button class="filter-tab" data-filter="all">–í—Å–µ</button>
                </div>
                
                <div id="events-feed" class="feed-list">
                    <div class="empty-state">
                        <div class="empty-icon">üí´</div>
                        <div class="empty-title">–ü–æ–∫–∞ –Ω–µ—Ç –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏–π</div>
                        <div class="empty-text">–ü–æ–¥–µ–ª–∏—Ç–µ—Å—å —Å—Å—ã–ª–∫–æ–π –Ω–∞ –≤–∏—à–ª–∏—Å—Ç</div>
                    </div>
                </div>
            </main>
        </div>

        <!-- –í–∫–ª–∞–¥–∫–∞: –ë–∞–ª–∞–Ω—Å -->
        <div id="tab-balance" class="screen">
            <header class="app-header">
                <div class="text-lg">–ë–∞–ª–∞–Ω—Å</div>
            </header>
            
            <main class="app-content">
                <div class="stats-row">
                    <div class="stat-block pending">
                        <div class="stat-value" id="balance-pending">0 ‚≠ê</div>
                        <div class="stat-label">–í –æ–∂–∏–¥–∞–Ω–∏–∏</div>
                    </div>
                    <div class="stat-block available">
                        <div class="stat-value" id="balance-available">0 ‚≠ê</div>
                        <div class="stat-label">–î–æ—Å—Ç—É–ø–Ω–æ</div>
                    </div>
                    <div class="stat-block withdrawn">
                        <div class="stat-value" id="balance-withdrawn">0 ‚≠ê</div>
                        <div class="stat-label">–í—ã–≤–µ–¥–µ–Ω–æ</div>
                    </div>
                </div>
                
                <div class="text-sm text-secondary mb-4" style="background: var(--bg-secondary); padding: 12px; border-radius: var(--radius);">
                    ‚ÑπÔ∏è Telegram —É–¥–µ—Ä–∂–∏–≤–∞–µ—Ç Stars 21 –¥–µ–Ω—å –ø–µ—Ä–µ–¥ –≤—ã–≤–æ–¥–æ–º
                </div>
                
                <div id="withdraw-section">
                    <button id="withdraw-btn" class="btn btn-primary" disabled>
                        –í—ã–≤–µ—Å—Ç–∏
                    </button>
                    <p id="withdraw-hint" class="text-sm text-secondary text-center mt-2">
                        –ï—â—ë 1000 ‚≠ê –¥–æ –≤—ã–≤–æ–¥–∞
                    </p>
                </div>
            </main>
        </div>

        <!-- –í–∫–ª–∞–¥–∫–∞: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ -->
        <div id="tab-settings" class="screen">
            <header class="app-header">
                <div class="text-lg">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</div>
            </header>
            
            <main class="app-content">
                <!-- –†–µ–∂–∏–º –¥–æ—Å—Ç—É–ø–∞ -->
                <div class="setting-row">
                    <div>
                        <div class="setting-label">–ü—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø</div>
                        <div class="setting-hint">–õ—é–±–æ–π –º–æ–∂–µ—Ç –æ—Ç–∫—Ä—ã—Ç—å –≤–∞—à –≤–∏—à–ª–∏—Å—Ç</div>
                    </div>
                    <div id="privacy-toggle" class="toggle active" onclick="togglePrivacy()"></div>
                </div>
                
                <!-- –ò–Ω–≤–∞–π—Ç-—Å—Å—ã–ª–∫–∏ (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –ø—Ä–∏–≤–∞—Ç–Ω—ã–π —Ä–µ–∂–∏–º) -->
                <div id="invites-section" class="hidden">
                    <div class="setting-row" style="border: none;">
                        <div class="setting-label">–ò–Ω–≤–∞–π—Ç-—Å—Å—ã–ª–∫–∏</div>
                        <button class="btn btn-ghost" onclick="createInvite()" style="width: auto;">
                            + –°–æ–∑–¥–∞—Ç—å
                        </button>
                    </div>
                    
                    <div id="invites-list" class="invites-list">
                        <!-- –ò–Ω–≤–∞–π—Ç—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                </div>
                
                <!-- –ü—Ä–æ—Ñ–∏–ª—å -->
                <div class="mt-4">
                    <div class="font-semibold mb-3">–ü—Ä–æ—Ñ–∏–ª—å</div>
                    <div class="form-group">
                        <label class="form-label">–ò–º—è</label>
                        <input type="text" id="settings-name" class="form-input" placeholder="–í–∞—à–µ –∏–º—è">
                    </div>
                    <div class="form-group">
                        <label class="form-label">–û–ø–∏—Å–∞–Ω–∏–µ</label>
                        <textarea id="settings-bio" class="form-textarea" rows="2" placeholder="–ö–æ—Ä–æ—Ç–∫–æ –æ —Å–µ–±–µ..."></textarea>
                    </div>
                    <button class="btn btn-secondary" onclick="saveSettings()">
                        –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
                    </button>
                </div>
            </main>
        </div>

        <!-- –≠–∫—Ä–∞–Ω: –î–æ–±–∞–≤–∏—Ç—å/–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥–∞—Ä–æ–∫ -->
        <div id="screen-add-gift" class="screen">
            <header class="app-header flex justify-between items-center">
                <button class="btn btn-ghost" onclick="closeAddGift()" style="width: auto; padding: 8px 0;">
                    ‚Üê –ù–∞–∑–∞–¥
                </button>
                <div class="text-lg" id="add-gift-title">–ù–æ–≤—ã–π –ø–æ–¥–∞—Ä–æ–∫</div>
                <div style="width: 60px;"></div>
            </header>
            
            <main class="app-content">
                <form id="gift-form">
                    <input type="hidden" id="edit-gift-id">
                    
                    <div class="form-group">
                        <label class="form-label">–§–æ—Ç–æ</label>
                        <label class="photo-upload">
                            <input type="file" id="gift-photo" accept="image/*">
                            <div>üì∑ –ù–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å —Ñ–æ—Ç–æ</div>
                            <div id="photo-preview" class="photo-preview"></div>
                        </label>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ</label>
                        <input type="text" id="gift-name" class="form-input" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –î—É—Ö–∏ Chanel" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">–ù–∞ —á—Ç–æ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
                        <input type="text" id="gift-description" class="form-input" placeholder="–ö–æ—Ä–æ—Ç–∫–æ–µ –ø–æ—è—Å–Ω–µ–Ω–∏–µ">
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">–¶–µ–Ω–∞</label>
                            <input type="number" id="gift-price" class="form-input" step="0.01" placeholder="120" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">–í–∞–ª—é—Ç–∞</label>
                            <select id="gift-currency" class="form-select">
                                <option value="USD">USD</option>
                                <option value="EUR">EUR</option>
                                <option value="RUB">RUB</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">–°—Å—ã–ª–∫–∞ –Ω–∞ —Ç–æ–≤–∞—Ä</label>
                        <input type="url" id="gift-url" class="form-input" placeholder="https://..." required>
                    </div>
                    
                    <div class="text-sm text-secondary mb-3">
                        –ö –æ–ø–ª–∞—Ç–µ: <strong id="stars-preview">0</strong> ‚≠ê
                    </div>
                    
                    <button type="submit" class="btn btn-primary">
                        –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
                    </button>
                    
                    <button type="button" id="delete-gift-btn" class="btn btn-secondary mt-2 hidden" style="background: #fee2e2; color: #ef4444;">
                        –£–¥–∞–ª–∏—Ç—å
                    </button>
                </form>
            </main>
        </div>

        <!-- –ù–∏–∂–Ω—è—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è -->
        <nav class="app-nav" id="main-nav">
            <button class="nav-btn active" data-tab="wishlist" onclick="showTab('wishlist')">
                <span class="nav-btn-icon">üéÅ</span>
                <span>–í–∏—à–ª–∏—Å—Ç</span>
            </button>
            <button class="nav-btn" data-tab="events" onclick="showTab('events')">
                <span class="nav-btn-icon">üí´</span>
                <span>–ü–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è</span>
            </button>
            <button class="nav-btn" data-tab="balance" onclick="showTab('balance')">
                <span class="nav-btn-icon">üí∞</span>
                <span>–ë–∞–ª–∞–Ω—Å</span>
            </button>
            <button class="nav-btn" data-tab="settings" onclick="showTab('settings')">
                <span class="nav-btn-icon">‚öôÔ∏è</span>
                <span>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span>
            </button>
        </nav>
    </div>

    <script src="/js/app.js"></script>
    <script src="/js/cabinet.js"></script>
</body>
</html>
